CREATE DATABASE LIBRARY_DEMO;

SHOW databases;

USE LIBRARY_DEMO;

CREATE TABLE READERS(
READER_ID VARCHAR(10),
FNAME VARCHAR(30),
LNAME VARCHAR(30),
CITY VARCHAR(15),
MOBILENO VARCHAR(10),
OCCUPATION VARCHAR(10),
DOB date,
CONSTRAINT READERS_PK primary key(READER_ID)
);


INSERT INTO READERS VALUES('COO1','ANAND','PRAKASH','ARRAH','9856741236','STUDENT','1990-01-01');
INSERT INTO READERS VALUES('C002','NIRBHAY','SINGH','LUCKNOW','9651237895','STUDENT','1991-01-01');
INSERT INTO READERS VALUES('C003','ADESH','SINGH','LUCKNOW','9854120036','STUDENT','1992-01-01');
INSERT INTO READERS VALUES('C004','ADAESH','GUPTA','GREATER NOIDA','7012365489','STUDENT','1993-01-01');
INSERT INTO READERS VALUES('C005','ANUPAM','MALIK','UP','8596741258','STUDENT','1994-01-01');
INSERT INTO READERS VALUES('C006','ANUP','PRAKASH','BIHAR','5789610025','STUDENT','1995-01-01');
INSERT INTO READERS VALUES('C007','ARPAN','SINGH','ALLAHABAD','7896521079','STUDENT','1996-01-01');
INSERT INTO READERS VALUES('C008','BRIJESH','SINGH','NOIDA','9856412378','STUDENT','1997-01-01');
INSERT INTO READERS VALUES('C009','MAYANK','CHAURASIA','DELHI','8745961112','STUDENT','1998-01-01');
INSERT INTO READERS VALUES('C0010','VIKASH','SINGH','DELHI','9999963214','STUDENT','1999-01-01');

SELECT * FROM READERS;

DESCRIBE READERS;

CREATE TABLE BOOK(
B_ID VARCHAR(10),
B_NAME VARCHAR(40),
B_DOMAIN VARCHAR(20),
CONSTRAINT BOOK_B_ID_PK primary key(B_ID)
);


INSERT INTO BOOK VALUE('B001','PHYSICS1','ENGINEERING');
INSERT INTO BOOK VALUE('B002','PHYSICS2','ENGINEERING');
INSERT INTO BOOK VALUE('B003','MATH1','ENGINEERING');
INSERT INTO BOOK VALUE('B004','MATH2','ENGINEERING');
INSERT INTO BOOK VALUE('B005','DSA','COMPUTER SCIENCE');
INSERT INTO BOOK VALUE('B006','RICH DAD POOR DAD','NOVAL');
INSERT INTO BOOK VALUE('B007','THE MONK','NOVAL');
INSERT INTO BOOK VALUE('B008','LUCENT','GK');
INSERT INTO BOOK VALUE('B009','MAHATMA GANDHI','STORY');

SELECT * FROM BOOK;

DESCRIBE BOOK;


CREATE TABLE ACTIVE_READERS(
ACCOUNT_ID VARCHAR(10),
READER_ID VARCHAR(10),
B_ID VARCHAR(10),
A_TYPE VARCHAR(10),
A_STATUS VARCHAR(10),
CONSTRAINT ACTIVEREADERS_ACNUMBER_PK PRIMARY KEY(ACCOUNT_ID),
CONSTRAINT ACCOUNT_READEID_FK foreign key(READER_ID) references READERS(READER_ID),
CONSTRAINT ACCOUNT_B_ID_FK FOREIGN KEY(B_ID) references BOOK(B_ID)
);


INSERT INTO ACTIVE_READERS VALUE('A001','COO1','B001','REGULAR','ACTIVE');
INSERT INTO ACTIVE_READERS VALUE('A002','C002','B002','PREMIUM','ACTIVE');
INSERT INTO ACTIVE_READERS VALUE('A003','C003','B003','PREMIUM','SUSPENDED');
INSERT INTO ACTIVE_READERS VALUE('A004','C004','B004','REGULAR','ACTIVE');
INSERT INTO ACTIVE_READERS VALUE('A005','C005','B005','REGULAR','SUSPENDED');
INSERT INTO ACTIVE_READERS VALUE('A006','C006','B006','REGULAR','TERMINATED');
INSERT INTO ACTIVE_READERS VALUE('A007','C007','B007','PREMIUM','TERMINATED');
INSERT INTO ACTIVE_READERS VALUE('A008','C008','B008','REGULAR','ACTIVE');
INSERT INTO ACTIVE_READERS VALUE('A009','C009','B009','REGULAR','SUSPENDED');



SELECT * FROM ACTIVE_READERS;


DESCRIBE ACTIVE_READERS;


CREATE TABLE BOOKISSUE_DETAILS(
ISSUENUMBER VARCHAR(6),
ACCOUNT_ID VARCHAR(6),
B_ID VARCHAR(20),
BOOKNAME VARCHAR(50),
NUMBER_OF_BOOK_ISSUED INT(7),
CONSTRAINT TRANDETAILS_TNUMBER_PK PRIMARY KEY(ISSUENUMBER),
CONSTRAINT TRANSETAILS_ACNUMBER_FK foreign key(ACCOUNT_ID) references ACTIVE_READERS(ACCOUNT_ID)
);

INSERT INTO BOOKISSUE_DETAILS VALUE('I001','A001','B001','MAHATMA GANDHI',2);
INSERT INTO BOOKISSUE_DETAILS VALUE('I002','A002','B002','PHYSICS1',3);
INSERT INTO BOOKISSUE_DETAILS VALUE('I003','A003','B003','MATH1',4);
INSERT INTO BOOKISSUE_DETAILS VALUE('I004','A004','B004','HINDI',5);
INSERT INTO BOOKISSUE_DETAILS VALUE('I005','A005','B005','PROGRAMMING IN C',2);
INSERT INTO BOOKISSUE_DETAILS VALUE('I006','A006','B006','THE POWER OF PEN',6);
INSERT INTO BOOKISSUE_DETAILS VALUE('I007','A007','B007','ONE SIDE LOVE',6);
INSERT INTO BOOKISSUE_DETAILS VALUE('I008','A008','B008','UNIVERSE',5);
INSERT INTO BOOKISSUE_DETAILS VALUE('I009','A009','B009','GOD',2);



SELECT * FROM BOOKISSUE_DETAILS;

DESCRIBE BOOKISSUE_DETAILS;


-- SOME EXAMPLE BASED ON DATABASE LIBRARY_DEMO 


SELECT * FROM ACTIVE_READERS WHERE A_STATUS='TERMINATED';

SELECT * FROM ACTIVE_READERS WHERE A_TYPE='REGULAR';








 
